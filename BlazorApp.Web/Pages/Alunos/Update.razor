@page "/alunos/editar/{id}"
@inherits UpdateAlunoPage

<MudContainer MaxWidth="MaxWidth.Medium">
    <MudText Typo="Typo.h4" Class="mt-10 mb-6">Atualizar Aluno</MudText>

    <EditForm Model="InputModel" Context="AlunoForm" OnValidSubmit="OnValidSubmitAsync" >
        <MudPaper Class="pa-8" Outlined="true">
            <ObjectGraphDataAnnotationsValidator />
            <DataAnnotationsValidator />
             <MudTextField Label="Nome"
                          HelperText="Campo obrigatório"
                          @bind-Value="InputModel.Nome"
                          For="@(() => InputModel.Nome)" />

            <MudTextField Label="CPF"
                          Mask="@(new PatternMask("000.000.000-00"))"
                          HelperText="Campo obrigatório"
                          @bind-Value="InputModel.Cpf"
                          For="@(() => InputModel.Cpf)" />

            <MudTextField Label="RG"
                          HelperText="Digite seu RG"
                          @bind-Value="InputModel.Rg"
                          For="@(() => InputModel.Rg)" />
                          
            <MudTextField Label="Celular"
                            Mask="@(new PatternMask("(00) 00000-0000"))"
                            HelperText="Digite um celular para contato"
                            @bind-Value="InputModel.Telefone" 
                            For="@(() => InputModel.Telefone)"/>

            <MudTextField Label="Email"
                          HelperText="Digite um email para contato"
                          @bind-Value="InputModel.Email" 
                          For="@(() => InputModel.Email)"/>

            <MudTextField Label="Assinatura"
                          HelperText="Inclua uma assinatura"
                          @bind-Value="InputModel.Assinatura" 
                          For="@(() => InputModel.Assinatura)"/>

           <MudSelect T="string"
                       Label="Empresa"
                       AnchorOrigin="Origin.BottomCenter"
                        @bind-Value="SelectedEmpresaId">
                @foreach (var empresa in TodasEmpresas)
                {
                        <MudSelectItem T="string" Value="@empresa.Id.ToString()">
                            @empresa.RazaoSocial
                        </MudSelectItem>
                }
            </MudSelect>

        </MudPaper>

        <MudButton ButtonType="ButtonType.Submit"
                   Variant="Variant.Filled"
                   Color="Color.Primary"
                   Class="mt-8 mb-10">
            Atualizar
        </MudButton>
    </EditForm>
</MudContainer>
