@page "/alunos"
@using BlazorApp.Shared.Models
@inherits GetAllAlunosPage

<MudContainer MaxWidth="MaxWidth.ExtraLarge">
    <MudText Typo="Typo.h4" Class="mt-10 mb-6">Alunos</MudText>
    <div class="d-flex justify-end">
        <MudButton Size="@Size.Medium" Href="/alunos/cadastrar" Color="@Color.Success" StartIcon="@Icons.Material.Filled.AddCircleOutline" Class="add-item-btn">Adicionar aluno</MudButton>
    </div>

    <MudDataGrid T="Aluno" 
        Class="mt-1 mb-15" 
        Items="@Alunos" 
        Filterable="true"
        QuickFilter="@_quickFilter"
        Bordered="true">
        <Columns>
             <TemplateColumn StickyLeft="true" Filterable="false" Sortable="false">
                <CellTemplate>
                    <MudGrid Justify="@Justify.Center">
                        <MudIconButton 
                            Size="@Size.Small"
                            Icon="@Icons.Material.Filled.Edit" 
                            Color="Color.Info" 
                            Href="@($"/alunos/editar/{context.Item.Id}")" />
                    </MudGrid>
                </CellTemplate>
            </TemplateColumn>
            <PropertyColumn Property="x=>x.Nome" Title="Nome" />
            <PropertyColumn Property="x=>x.Cpf" Title="CPF" />
            <PropertyColumn Property="x=>x.Rg" Title="RG" />
            <PropertyColumn Property="x=>x.Telefone" Title="Telefone" />
            <PropertyColumn Property="x=>x.Email" Title="Email" />
            <PropertyColumn Property="x=>x.DataCriacao" Title="Data de Criação" />
            <TemplateColumn StickyRight="true" Filterable="false" Sortable="false">
                <CellTemplate >
                    <MudGrid Justify="@Justify.Center">
                        <MudIconButton Size="@Size.Small"
                            Icon="@Icons.Material.Filled.Delete"
                            Color="Color.Error"
                            OnClick="() => OnDeleteButtonActive(context.Item.Id, context.Item.Nome)" />
                    </MudGrid>
                </CellTemplate>
            </TemplateColumn>
        </Columns>
        <PagerContent>
            <MudDataGridPager T="@Aluno" />
        </PagerContent>
    </MudDataGrid>

</MudContainer>